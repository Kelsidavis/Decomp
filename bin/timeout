#!/usr/bin/env bash
# If invoked like: timeout 180 floss ..., bump to FLOSS_TIMEOUT (default 600)
set -euo pipefail
FLOSS_T="${FLOSS_TIMEOUT:-600}"
if [[ $# -ge 3 && "$1" =~ ^[0-9]+$ && "$2" == "floss" ]]; then
  exec /usr/bin/timeout "$FLOSS_T" "${@:2}"
else
  exec /usr/bin/timeout "$@"
fi
